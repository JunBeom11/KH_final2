<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.kh.moyoung.movie.model.mapper.MovieMapper">
	<sql id="selectMovieSql">
		SELECT   
			MOVIE_ID,
			LAST_UPDATE,
			TITLE,
			TITLE_KOR,
			PRODUCT_YEAR,
			OPEN_DATE,
			COUNTRY,
			GENRE,
			DIRECTOR,
			VOTE,
			ADULT,
			RUN_TIME,
			M_POSTER,
			NETFLIX,
			WATCHA,
			TVING,
			WAVVE,
			STORY,
			ACTOR,
			VIEWING_AGE,
			TRAILER
		FROM MOVIE
	</sql>
		
	<resultMap type="Movie" id="movieListResultMap" >
		<id property="movieNo" column="MOVIE_ID"/>
		<result property="last_update" column="LAST_UPDATE"/>
		<result property="title" column="TITLE"/>
		<result property="title_kor" column="TITLE_KOR"/>
		<result property="product_year" column="PRODUCT_YEAR"/>
		<result property="open_date" column="OPEN_DATE"/>
		<result property="country" column="COUNTRY"/>
		<result property="genre" column="GENRE"/>
		<result property="director" column="DIRECTOR"/>
		<result property="vote" column="VOTE"/>
		<result property="adult" column="ADULT"/>
		<result property="run_time" column="RUN_TIME"/>
		<result property="m_poster" column="M_POSTER"/>
		<result property="netflix" column="NETFLIX"/>
		<result property="watcha" column="WATCHA"/>
		<result property="tving" column="TVING"/>
		<result property="wavve" column="WAVVE"/>
		<result property="story" column="STORY"/>
		<result property="actor" column="ACTOR"/>
		<result property="viewing_age" column="VIEWING_AGE"/>
		<result property="trailer" column="TRAILER"/>
	</resultMap>

	<!-- movie 리스트 목록 -->
	<select id="selectMovieList" resultMap="movieListResultMap">
		<include refid="selectMovieSql"/>
		ORDER BY MOVIE_ID DESC
	</select>
	
	<select id="selectMovieCount" resultType="_int">
		SELECT COUNT(*)
		FROM MOVIE
	</select>
	
<!-- 	<select id="selectMovieByNo" parameterType="_int" resultMap="movieDetailResultMap"> -->
<!-- 		<include refid="selectMovieSql"/> -->
<!-- 		WHERE MOVIE_ID = #{movieNo}  -->
<!--  	</select> -->
 	
<!-- 	<select id="selectMovieByNo" parameterType="_int" resultMap="movieDetailResultMap"> -->
<!--  		SELECT    -->
<!-- 			MOVIE_ID, -->
<!-- 			LAST_UPDATE, -->
<!-- 			TITLE, -->
<!-- 			TITLE_KOR, -->
<!-- 			PRODUCT_YEAR, -->
<!-- 			OPEN_DATE, -->
<!-- 			COUNTRY, -->
<!-- 			GENRE, -->
<!-- 			DIRECTOR, -->
<!-- 			VOTE, -->
<!-- 			ADULT, -->
<!-- 			RUN_TIME, -->
<!-- 			M_POSTER, -->
<!-- 			NETFLIX, -->
<!-- 			WATCHA, -->
<!-- 			TVING, -->
<!-- 			WAVVE, -->
<!-- 			STORY, -->
<!-- 			ACTOR, -->
<!-- 			VIEWING_AGE, -->
<!-- 			TRAILER -->
<!-- 		FROM MOVIE WHERE  MOVIE_ID = #{movieNo} -->
<!-- 	</select> -->
	
</mapper>